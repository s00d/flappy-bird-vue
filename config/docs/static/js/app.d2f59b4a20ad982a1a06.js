webpackJsonp([1],{NHnr:function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("7+uW"),s=e("mvHQ"),r=e.n(s),d={name:"App",data:function(){return{max:0,eventCallback:{},defoult:{score:0,pipes:[],bird:{vBird:1,uBird:10,dt:.025,xBird:100,yBird:100,g:300,wingState:1},bgr:{width:1e3}},game:{}}},computed:{styleBird:function(){return{width:"33px",height:"24px",left:this.game.bird.xBird+"px",top:this.game.bird.yBird+"px"}},styleBgr:function(){return{width:this.game.bgr.width+"px",right:0}}},methods:{gameLoop:function(){this.game.bird.vBird+=this.game.bird.dt*this.game.bird.g,this.game.bird.yBird+=this.game.bird.dt*this.game.bird.vBird,this.game.bird.yBird>480&&(this.game.bird.vBird=-100),this.game.bird.yBird<0&&(this.game.bird.vBird=100),this.game.bird.xBird+=this.game.bird.uBird,this.game.bgr.width+=this.game.bird.uBird,this.checkDue()},upperBird:function(){var i=this;this.eventCallback.fly(),this.game.bird.vBird=-200,this.game.bird.wingState=2,setTimeout(function(){i.game.bird.wingState=0,setTimeout(function(){i.game.bird.wingState=1},500)},500)},addPipe:function(){this.game.pipes.push({position:this.game.bgr.width,topPipeHeight:100+100*Math.random()})},bottomPipeHeight:function(i){return 505-i.topPipeHeight-100},checkDue:function(){var i=this;this.game.pipes.length>10&&this.$delete(this.game.pipes,0),this.game.pipes.forEach(function(t,e){i.game.bird.xBird+33>t.position&&i.game.bird.xBird<t.position+100&&(i.game.bird.yBird<t.topPipeHeight||i.game.bird.yBird+24>t.topPipeHeight+100)&&(i.max<i.game.score&&(i.max=i.game.score),i.$set(i,"game",JSON.parse(r()(i.defoult))),i.eventCallback.hit()),i.game.score<e+1&&i.game.bird.xBird>t.position+100&&(i.eventCallback.score(),i.game.score=e+1)})}},created:function(){this.$set(this,"game",JSON.parse(r()(this.defoult)))},mounted:function(){var i=this;this.addPipe(),setInterval(this.gameLoop,30),setInterval(this.addPipe,1e3);["fly","die","score","hit"].forEach(function(t){var e=document.createElement("audio");e.src="./static/sound/"+t+".mp3",e.preload="preload",i.eventCallback[t]=function(){e.pause(),e.currentTime=0,e.play()}})}},o={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{attrs:{id:"app"}},[e("audio",{attrs:{loop:"loop",src:"./static/sound/bgm.mp3",preload:"preload",autoplay:"autoplay"}}),i._v(" "),e("div",{staticClass:"bkg-main",on:{click:i.upperBird}},[e("div",{staticClass:"score"},[i._v("Record: "+i._s(i.game.score))]),i._v(" "),e("div",{staticClass:"score-max"},[i._v("Max: "+i._s(i.max))]),i._v(" "),e("div",{staticClass:"bkg",style:i.styleBgr},[e("div",{staticClass:"pipe-group"},i._l(i.game.pipes,function(t,a){return e("div",{key:a,staticClass:"pipe",style:{left:t.position+"px"}},[e("div",{staticClass:"pipe-top",style:{height:t.topPipeHeight+"px"}}),i._v(" "),e("div",{staticClass:"space",staticStyle:{height:"100px"}}),i._v(" "),e("div",{staticClass:"pipe-bottom",style:{height:i.bottomPipeHeight(t)+"px"}})])})),i._v(" "),e("div",{staticClass:"bird",class:"bird-"+i.game.bird.wingState,style:i.styleBird})])])])},staticRenderFns:[]};var p=e("VU/8")(d,o,!1,function(i){e("l3Q4")},null,null).exports;a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:p},template:"<App/>"})},l3Q4:function(i,t){}},["NHnr"]);
//# sourceMappingURL=app.d2f59b4a20ad982a1a06.js.map